{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Iman\\\\Desktop\\\\Ashfak\\\\texting-front\\\\src\\\\list.jsx\";\nimport React from 'react';\nimport Message from './message.jsx';\nimport Setup from './setup.jsx';\nimport './index.css';\nimport Send from './send.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass List extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      let client = this.props.client;\n\n      if (this.props.user.friendList.length > 0) {\n        client.emit('initialList', {\n          clientID: client.id,\n          own: this.props.user.username,\n          username: this.props.user.friendList[0]\n        });\n      } else {\n        console.log(\"Here?\");\n        client.emit('lonely', {\n          id: client.id,\n          name: this.props.user.username\n        });\n      } //console.log(this.props.username);\n\n\n      client.on('initialData', message => {\n        console.log(message);\n        this.setState({\n          list: message\n        });\n      });\n      client.on('update', message => {\n        console.log(message);\n        document.getElementById(\"mgL\").scrollTop = document.getElementById(\"mgL\").scrollHeight;\n        this.setState({\n          list: message\n        });\n      });\n    };\n\n    this.callBackendAPI = async () => {\n      //\tconst response = await fetch('http://puppygifs.tumblr.com/api/read/json/');\n      const response = await fetch('https://nuclei-texting.herokuapp.com/express_backend/');\n      const body = await response.json();\n\n      if (response.status !== 200) {\n        throw Error(body.message);\n      }\n\n      return body;\n    };\n\n    this.state = {\n      list: []\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    let i = 0;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list\",\n        id: \"mgL\",\n        children: [/*#__PURE__*/_jsxDEV(Setup, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), this.state.list.map(e => /*#__PURE__*/_jsxDEV(Message, {\n          info: e\n        }, i++, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 43\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Send, {\n        client: this.props.client,\n        user: this.props.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default List;","map":{"version":3,"sources":["C:/Users/Iman/Desktop/Ashfak/texting-front/src/list.jsx"],"names":["React","Message","Setup","Send","List","Component","constructor","props","componentDidMount","client","user","friendList","length","emit","clientID","id","own","username","console","log","name","on","message","setState","list","document","getElementById","scrollTop","scrollHeight","callBackendAPI","response","fetch","body","json","status","Error","state","bind","componentWillUnmount","render","i","map","e"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Message from './message.jsx';\r\nimport Setup from './setup.jsx';\r\nimport './index.css';\r\nimport Send from './send.jsx';\r\n\r\nclass List extends React.Component \r\n{\r\n\tconstructor(props) \r\n\t{\r\n\t\tsuper(props);\r\n\t\tthis.state = {list : []};\r\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\r\n\t}\r\n\tcomponentDidMount = async () =>\r\n\t{\r\n\t\tlet client = this.props.client;\r\n\t\tif (this.props.user.friendList.length > 0)\r\n\t\t{\r\n\t\t\tclient.emit('initialList', {\r\n\t\t\t\tclientID : client.id,\r\n\t\t\t\town: this.props.user.username,\r\n\t\t\t\tusername: this.props.user.friendList[0]\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tconsole.log(\"Here?\");\r\n\t\t\tclient.emit('lonely', {\r\n\t\t\t\tid : client.id,\r\n\t\t\t\tname: this.props.user.username,\r\n\t\t\t});\t\t\r\n\t\t}\r\n\t\t//console.log(this.props.username);\r\n\t\tclient.on('initialData', (message) => {\r\n\t\t\tconsole.log(message);\r\n\t\t\tthis.setState({list: message});\r\n\t\t});\r\n\t\tclient.on('update', (message) => {\r\n\t\t\tconsole.log(message);\r\n\t\t\tdocument.getElementById(\"mgL\").scrollTop = document.getElementById(\"mgL\").scrollHeight;\r\n\t\t\tthis.setState({list: message});\r\n\t\t});\r\n\t}\r\n    // fetching the GET route from the Express server which matches the GET route from server.js\r\n\tcallBackendAPI = async () => {\r\n\t//\tconst response = await fetch('http://puppygifs.tumblr.com/api/read/json/');\r\n\t\tconst response = await fetch('https://nuclei-texting.herokuapp.com/express_backend/');\r\n\t\tconst body = await response.json();\r\n\t\tif (response.status !== 200) \r\n\t\t{\r\n\t\t\tthrow Error(body.message) \r\n\t\t}\r\n\t\treturn body;\r\n\t};\r\n\r\n\tcomponentWillUnmount() {}\r\n\trender() \r\n\t{\r\n\t\tlet i = 0;\t\r\n\t\treturn ( \r\n\t\t\t\t<div>\r\n\t\t\t\t<div className = \"list\" id = \"mgL\">\r\n\t\t\t\t\t<Setup />{this.state.list.map((e) => <Message info = {e} key = {i++} />)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Send client = {this.props.client} user = {this.props.user} />\r\n\t\t\r\n\t\t\t</div>)\r\n\t}\r\n}\r\n\r\nexport default List;"]},"metadata":{},"sourceType":"module"}